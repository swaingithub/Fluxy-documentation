---
title: Permissions
description: Unified, zero-config permission management for modern platforms.
---

# Permissions

The `fluxy_permissions` module (accessible via the unified platform layer) provides a centralized, reactive engine for managing system permissions (Camera, Location, Notifications, etc.) without writing platform-specific boilerplate.

## Installation

Add the permissions module to your project:

```bash
fluxy module add permissions
```

## Basic Usage

Requesting a single permission is a simple async call via the unified platform API:

```dart
final status = await Fx.platform.permissions.request(FluxyPermission.camera);

if (status == FluxyPermissionStatus.granted) {
  // Open camera
}
```

## Advanced: Batch Requests

On app startup, you may want to request all necessary permissions at once. Fluxy provides a clean map-based response for batch requesting.

```dart
Future<void> initSystem() async {
  final results = await Fx.platform.permissions.requestAll([
    FluxyPermission.notification,
    FluxyPermission.location,
    FluxyPermission.biometrics,
  ]);

  if (results[FluxyPermission.notification] == FluxyPermissionStatus.denied) {
    Fx.toast.warning("Enable notifications for full functionality.");
  }
}
```

## Reactive Status Updates

Fluxy permissions are also available as signals, allowing your UI to react instantly if a user revokes permissions via system settings.

```dart
Fx(() {
  final status = Fx.platform.permissions.statusOf(FluxyPermission.location).value;
  return status == FluxyPermissionStatus.granted 
    ? MapView() 
    : PermissionPlaceholder();
});
```

## Zero-Config Manifests (Android)

For many permissions (like Internet or Notifications), Fluxy's build engine automatically injects the required XML entries into your `AndroidManifest.xml` during compilation, reducing the chance of runtime crashes due to missing declarations.

## Best Practices
1. **Contextual Requests**: Don't ask for all permissions on the first splash screen. Ask when the user triggers a feature (e.g., asking for Camera inside the scan view).
2. **Handle "Permanently Denied"**: Use `Fx.platform.permissions.openSettings()` to guide users to the system settings if they have previously denied a permission multiple times.
3. **Use the Watcher**: Leverage `statusOf().listen()` in your controllers to adjust background service behavior based on permission availability.
